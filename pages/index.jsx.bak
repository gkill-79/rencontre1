  // pages/index.jsx
  import ChatWidget from '../components/ChatWidget';
  import Header from '../components/Header';
  import Carousel from '../components/Carousel';
  import Footer from '../components/Footer';
  import { useEffect } from 'react';
  import { useRouter } from 'next/router';
  import { useSession, signIn, signOut } from 'next-auth/react';
  import { useState } from 'react';
  import { useForm } from 'react-hook-form';
  import { z } from 'zod';
  import { zodResolver } from '@hookform/resolvers/zod';
  import dynamic from "next/dynamic";

  export default function Home() {  
    const router = useRouter();
    const { data: session } = useSession();
    const [isLoggedIn, setIsLoggedIn] = useState(false);

    const DynamicAppWitNoSSR = dynamic(() => import('../components/Carousel'), { ssr: false,
        loading: () => <p>Loading...</p>
    });

    useEffect(() => {
      if (!session) {
        router.push('/login');
      }
    }, [session, router]);
    
    return (
      <>
        {/* Autres composants */}
        <ChatWidget />
        <Carousel />
        <Head>
            <title>Create Next App Baiser Rapide</title>
            <meta name="description" content="Generated by create next app" />
            <meta name="viewport" content="width=device-width, initial-scale=1" />
            <link rel="icon" href="/favicon.ico" />
        </Head>
        <Header />
        <main className={styles.main}>
            <DynamicAppWitNoSSR />
        </main>
        <Footer />
      </>
    );
    
  }
